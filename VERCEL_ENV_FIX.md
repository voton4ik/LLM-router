# Исправление проблемы с localhost:3001 в production

## Проблема
В production фронтенд все еще обращается к `http://localhost:3001` вместо относительных путей.

## Причина
В Vercel в переменных окружения для **Production** установлена переменная:
```
VITE_API_URL=http://localhost:3001
```

Эта переменная имеет приоритет и переопределяет логику определения URL.

## Решение

### Шаг 1: Удалить VITE_API_URL из Production окружения в Vercel

1. Зайдите в Vercel Dashboard → ваш проект → Settings → Environment Variables
2. Найдите переменную `VITE_API_URL`
3. Убедитесь что она **НЕ установлена для Production** окружения
4. Если она установлена для Production - **УДАЛИТЕ её** или установите в пустую строку `""`

### Шаг 2: Пересобрать проект

После удаления переменной окружения:
1. Запустите новый деплой в Vercel (или он запустится автоматически)
2. Или локально выполните: `npm run build`

### Шаг 3: Проверить

После деплоя проверьте в браузере (DevTools → Network):
- Запросы должны идти на `/api/auth/login` (относительный путь)
- НЕ должно быть `http://localhost:3001/api/auth/login`

## Текущая логика (уже исправлена в коде)

Код теперь игнорирует `VITE_API_URL` в production если он содержит `localhost`:
- ✅ Production: всегда использует относительный путь `''`
- ✅ Development: использует `VITE_API_URL` или `http://localhost:3001` по умолчанию

## Важно

**НЕ устанавливайте `VITE_API_URL` для Production окружения в Vercel**, если бэкенд и фронтенд на одном проекте Vercel.

Для Production оставьте переменную пустой или не устанавливайте её вообще.
